# 操作系统

### 1.3.2 中断与异常

中断机制 -- 操作系统介入 -- CPU由用户态转化为核心态 -- 多道程序并发

1. 用户态-->核心态: 只能通过中断
2. 核心态-->用户态: 执行特权指令, 修改状态位

中断分类: 内中断(来自CPU内部), 外中断(来自CPU外部)

## 2.1 进程和线程

进程--多道程序技术--进程实体的PCB
PCB是进程存在的唯一标志
进程是动态的=PCB(操作系统的数据)+程序段+数据段
进程实体是静态的
进程的组织: 链接方式(执行指针, 就绪队列指针,阻塞队列指针), 索引方式
进程是资源分配, 接受调度的独立单位
进程的特征: 动态性, 并发性, 独立性, 异步性, 结构性

### 进程的状态与转换

进程的三种状态: 运行态(只有一个), 就绪态, 阻塞态, 创建态, 终止态

## 2.1 进程与线程

### 进程状态的转换

创建态--就绪态（其他）--运行态（处理机，其他）--阻塞态（）

运行态--阻塞态：主动行为，系统调度
阻塞态--就绪态：被动行为
就绪态--运行态：进程被调度
运行态--就绪态：时间片或者更高级的进程

### 进程控制

进程控制：原语
**原语**：关中断指令和开中断指令
修改 PCB 的内容，修改队列，分配/回收资源
进程创建：创建原语，用户登录，作业调度，提供服务，应用请求
进程终止：终止原语，正常结束，异常结束，外界干预
进程的阻塞和唤醒：阻塞原语，唤醒原语，成对出现
进程的切换：切断原语

## 2.2 处理机调度

高响应比优先算法:
非抢占式
等待时间/服务时间

上面三个方法只适合早期的批处理系统

下面的方法更适合交互式系统

时间片轮转调度算法(RR)
分时操作系统, 时钟中断, 响应快

优先级调度算法
实时操作系统, 抢占式/非抢占式


多级反馈队列调度算法


### 2019-08-07

## 2.3 进程同步

### 2.3.2 进程互斥的软件实现方法

单标志法, 双标志先检查, 双标志后检查, Peterson算法

单标志法
每个进程进入临界区的权限只能被另一个进程赋予

双标志先检查法
用布尔型数组中的各个元素用来标记各进程想进入临界区的意愿

双标志后检查法

Peterson算法
双标志后检查法+标志位的孔融让梨